use tui;
use tui::sparkline;

{
    let data: Array<f64> = [];
    let new_value = net::subscribe("/metrics/cpu")?;

    data <- array::window(
        #n: 60,
        new_value ~ data,
        cast<f64>(new_value)?
    );

    sparkline(#max: &100, &data)
}
